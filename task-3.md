# Задание 3: Интеграция с Clickhouse из Python

### Генерация данных: движения мыши (например, на веб-странице, в окне программы)

**Модель данных:**

События движений мыши:
- x Int16 - текущая координата X
- y Int16 - текущая координата Y
- deltaX Int16 - смещение по оси X
- deltaY Int16 - смещение по оси Y
- clientTimeStamp Float32 - время получения данных
- button Int8 - код кнопки мыши
- target String - название окна (объекта интерфейса, на котором произошло событие)

Написать программу (на python, java, js, ..), отслеживающую движения мыши (либо более простой вариант - сгенерировать случайные данные).

для python:
- события мышки собираются из окна desktop-приложения (в linux библиотека evdev: https://python-evdev.readthedocs.io/en/latest/ в windows наверное можно windll)
- события мыши собираются со страницы в браузере - понадобится библиотека для автотестов - selenium или pyautogui (https://pyautogui.readthedocs.io/en/latest/mouse.html)

также может пригодится вот эта библиотека pure python: https://github.com/boppreh/mouse/blob/master/README.md

еще удобный способ - использовать OpenCV: https://pyimagesearch.com/2015/03/09/capturing-mouse-click-events-with-python-and-opencv/

**Алгоритм работы:**
- создать таблицу mouse_movements (выбрать наиболее оптимальный движок и типы колонок)
- получить событие мыши
- записать его в clickhouse (в случае использования python с помощью pandahouse или sqlalchemy)


**Выполнить запросы:**
- посчитать количество всех движений мыши
- посчитать кол-во движений мыши, попадающих в диапазон x < 1000 AND y < 1000 и сгруппировать по target
- найти наиболее большие движения мыши (можно посчитать с помощью дельт: `plus(abs(deltaX), abs(deltaY)`)
